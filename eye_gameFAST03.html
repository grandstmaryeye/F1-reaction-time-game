<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>F1 반응 속도 테스트</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
      background-color: #f8f8f8;
    }

    header {
      position: absolute;
      top: 10px;
      right: 20px;
      text-align: right;
      font-weight: bold;
      font-size: 1rem;
      line-height: 1.3;
    }

    footer {
      position: fixed;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 0.8rem;
      color: #555;
      background-color: #f8f8f8;
      padding: 5px 10px;
    }

    #container {
      padding-top: 100px;
      padding-bottom: 100px;
      max-width: 600px;
      margin: 0 auto;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 30px;
    }

    #signal {
      width: 40vw;
      max-width: 200px;
      height: 40vw;
      max-height: 200px;
      margin: 0 auto;
      background-color: red;
      border-radius: 50%;
      transition: background-color 0.2s;
    }

    button {
      margin-top: 30px;
      font-size: 1.2rem;
      padding: 15px 40px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background-color: #007bff;
      color: white;
    }

    button:disabled {
      background-color: #999;
    }

    #records {
      margin-top: 30px;
      text-align: center;
      width: 90%;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .score {
      font-size: 1rem;
      margin: 5px 0;
    }

    .best {
      font-weight: bold;
      color: green;
      font-size: 1.2rem;
      margin-top: 15px;
    }

    @media (max-width: 480px) {
      header {
        font-size: 0.9rem;
        right: 10px;
      }

      h1 {
        font-size: 1.5rem;
      }

      button {
        font-size: 1rem;
        padding: 12px 30px;
      }

      footer {
        font-size: 0.7rem;
      }
    }
  </style>
</head>
<body>

  <header>
    그랜드성모안과<br>
    Grand St Mary Eye Clinic
  </header>

  <div id="container">
    <h1>F1 반응속도 테스트</h1>
    <div id="signal"></div>
    <button id="startBtn">시작</button>

    <div id="records">
      <h3>기록:</h3>
      <ul id="recordList" style="list-style: none; padding: 0;"></ul>
      <p class="best" id="bestScore"></p>
    </div>
  </div>

  <footer>
    © Grand St Mary Eye Clinic. Unauthorized reproduction or use without consent may result in legal liability.
  </footer>

  <script>
    const signal = document.getElementById('signal');
    const startBtn = document.getElementById('startBtn');
    const recordList = document.getElementById('recordList');
    const bestScore = document.getElementById('bestScore');

    let startTime, endTime;
    let waiting = false;
    let gameStarted = false;
    let scores = [];
    let round = 0;
    let timeoutId;

    startBtn.addEventListener('click', () => {
      if (waiting || gameStarted) return;
      waiting = true;
      startBtn.disabled = true;
      signal.style.backgroundColor = 'red';
      const delay = Math.random() * 2000 + 2000;

      timeoutId = setTimeout(() => {
        signal.style.backgroundColor = 'blue';
        startTime = new Date().getTime();
        gameStarted = true;
      }, delay);
    });

    signal.addEventListener('click', () => {
      if (!waiting) return;

      if (!gameStarted) {
        clearTimeout(timeoutId);
        alert('너무 빨랐습니다! 다시 시도해주세요.');
        waiting = false;
        startBtn.disabled = false;
        return;
      }

      endTime = new Date().getTime();
      const reactionTime = endTime - startTime;
      scores.push(reactionTime);
      recordList.innerHTML += `<li class="score">${round + 1}회차: ${reactionTime}ms</li>`;
      round++;
      waiting = false;
      gameStarted = false;
      startBtn.disabled = false;

      if (round === 5) {
        startBtn.disabled = true;
        const best = Math.min(...scores);
        bestScore.textContent = `🎉 베스트 스코어: ${best}ms`;
      }
    });
  </script>

</body>
</html>
